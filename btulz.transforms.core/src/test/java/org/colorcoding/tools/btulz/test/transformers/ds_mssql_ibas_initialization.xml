<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
$$适用于java平台下的ibas框架
<ns2:DataStructureOrchestration
	xmlns:ns2="http://colorcoding.org/btulz/transformers">
	<Name>ds_mssql_ibas</Name>
	<Description>基于MSSQL的初始化脚本说明</Description>
	<Integrated>true</Integrated>
	<DriverName>com.microsoft.sqlserver.jdbc.SQLServerDriver</DriverName>
	<DbUrl>jdbc:sqlserver://${DbServer}:${DbPort};DatabaseName=${DbName};ApplicationName=${AppName}</DbUrl>
	<DbUser>${DbUser}</DbUser>
	<DbPassword>${DbPassword}</DbPassword>
	<Action Name="create sp">
		<Step Name="check sp exists">
			<Script>
				select count(0) from sysobjects where name = '${Company}_SP_TRANSACTION_NOTIFICATION' AND type = 'P'
			</Script>
		</Step>
		<Step Name="create sp" RunOnValue="0">
			<Script>
CREATE PROCEDURE ${Company}_SP_TRANSACTION_NOTIFICATION
    @object_type nvarchar(20),                 -- BO Code
    @transaction_type nchar(1),                -- [A]dd, [U]pdate, [D]elete
    @num_of_cols_in_key int,                   -- Key Count
    @list_of_key_cols_tab_del nvarchar(255),   -- Key Names, split by ','
    @list_of_cols_val_tab_del nvarchar(255)    -- Key Values, split by ','
AS
begin
declare @error int                             -- return code, 0 is sucessful.
declare @error_message nvarchar(200)           -- return message
select @error = 0
select @error_message = N'OK'
--------------------------------------------------------------------------------------------------------------------------------

--ADD YOUR CODE HERE

--------------------------------------------------------------------------------------------------------------------------------
--return
select @error "Code", @error_message "Message"
end
			</Script>
		</Step>
	</Action>
</ns2:DataStructureOrchestration>